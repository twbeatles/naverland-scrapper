# 🔄 업데이트 히스토리

## **v14.2 (최신 버전)**

**안정성/운영성/스크래핑 정확도 강화 패치**

### ✨ 신규/강화 기능

* **DB 백업/복원 안정화**: SQLite online backup API 기반 백업, 복원 후 `PRAGMA integrity_check` + 필수 테이블 검증 추가
* **복원 유지보수 모드 도입**: 복원 중 크롤링/스케줄/주요 UI 액션 차단 후 완료 시 복구
* **월세 필터 분리 정책**: 월세 필터를 `보증금`/`월세`로 분리하고 두 조건 동시 만족 정책 적용
* **CrawlerTab 고급필터 실구현**: 수집 탭/필터 메뉴에서 고급필터 열기/적용/해제 및 ON/OFF 배지 표시
* **설정 UI 확장**: `retry_on_error`, `max_retry_count`를 설정창에서 직접 제어
* **가격변동 표기 통일**: UI/CSV/Excel 출력 모두 `+/-` 부호 포함 포맷 적용
* **차트 한글 폰트 fallback**: 폰트 미지원 환경에서 통계/대시보드 matplotlib glyph warning 최소화
* **테스트 환경 분리**: `pytest.ini`에서 `langsmith_plugin` 자동 로드 비활성화
* **배포 스펙 정합화**: `naverland-scrapper.spec` 기본 배포를 `onefile`로 고정하고 `NAVERLAND_ONEFILE=0`으로 `onedir` 전환 지원

### 🛠 개선사항

* **캐시 정확도 개선**: 필터 통과 결과가 아닌 원본(raw) 매물 캐시 저장 후 조회 시 재필터링
* **차단 페이지 즉시 실패 처리**: 캡차/접근제한 시그널 감지 시 정상 0건이 아닌 실패 경로로 처리
* **스크롤 내구성 향상**: 내부 컨테이너 스크롤 우선 + window 폴백 + 신규 ID 유입 기반 종료 조건
* **URL 과추출 완화**: 무문맥 숫자 추출 축소, API 이름 미확인 항목은 기본 체크 해제
* **종료 정책 강화**: `shutdown_crawl()` 타임아웃 시 앱 종료 중단 및 DB close 차단
* **Retry base_delay 반영**: `RetryHandler.base_delay`가 실제 대기 계산에 반영되도록 연결
* **프리셋 스키마 확장**: `monthly_min/max`(legacy) + `monthly_deposit_*`, `monthly_rent_*`(신규) 동시 지원
* **빌드 점검**: `naverland-scrapper.spec` 확인 결과 추가 hidden import 수정 불필요

### ✅ 검증

* **회귀 테스트**: `pytest -q` 기준 전체 통과
* **추가 시나리오**:
  * 통계/대시보드 반복 진입 안정성
  * 고급 필터 적용/해제 동작
  * 복원/종료 경계 시나리오
  * 캐시 재평가/월세 이중 조건/차단 감지/Retry 반영 회귀

---

## **v14.0**

**UI/UX Revolution & 모듈화 아키텍처**

### ✨ 신규 기능

* **Glassmorphism 테마**: 반투명 배경, 그라디언트 버튼, Warm Amber 악센트 컬러
* **완전한 Light 테마**: Tailwind CSS 색상 팔레트 기반, Sky Blue 악센트 컬러
* **Toast 알림 시스템**: 페이드 인/아웃 애니메이션, 슬라이드 효과, 호버 시 일시정지, 클릭으로 닫기
* **모듈화 아키텍처**: `src/` 디렉토리 기반 구조 (core, ui, utils 분리)
* **최적화된 스크롤**: 컨텐츠 변화 감지 기반 동적 스크롤링

### 🛠 개선사항

* **메모리 관리**: 임계치(500MB) 초과 시 드라이버 자동 재시작
* **테마 전환**: `Ctrl+T` 단축키로 즉시 Dark/Light 테마 전환
* **다이얼로그 분리**: 10개의 다이얼로그를 별도 폴더(`src/ui/dialogs/`)로 정리
* **이력 DB 배치 업서트**: 매물 이력 반영을 bulk upsert로 전환 (기본 배치 `200`)
* **결과 검색 성능 개선**: 행 검색 캐시 + hidden 상태 캐시 + 디바운스 (기본 `220ms`)
* **로그 탭 최적화**: 최대 라인 제한으로 장시간 실행 시 렌더링 비용 제어 (기본 `1500`)
* **지연 초기화 옵션**: 비핵심 탭의 초기 로드를 지연해 앱 시작 반응성 개선 (기본 `True`)
* **동일 매물 축약 표시**: 동일 가격/평수/층 중심 유사 매물을 `N건`으로 묶어 표시 (기본 `ON`)

---

## **v13.0**

**분석 대시보드 & 안정성 강화**

### ✨ 신규 기능

* **시세 분석 대시보드**: 통계 카드, 파이차트, 히스토그램으로 데이터 시각화
* **카드 뷰 모드**: 매물 정보를 시각적인 카드 형태로 표시
* **즐겨찾기 시스템**: 관심 매물 저장 및 메모 관리 기능
* **Connection Pool**: 스레드 안전한 SQLite 연결 관리

### 🛠 개선사항

* **RetryHandler**: 네트워크 오류 시 지수 백오프 자동 재시도
* **Rate Limit 감지**: 네이버 차단 방지 자동 대기 로직
* **드라이버 재시작**: 메모리 누수 방지를 위한 자동 재시작

---

## **v12.0**

**캐시 시스템 & 매물 추적**

### ✨ 신규 기능

* **크롤링 캐시**: TTL 기반 결과 캐싱으로 중복 크롤링 방지
* **평당가 표시**: 전용면적 기준 평당가 자동 계산 및 표시
* **매물 소멸 추적**: 사라진 매물을 기록하여 시장 분석에 활용

---

## **v7.3**

**기능 확장 및 편의성 개선**

### ✨ 신규 기능

* **가격 변동 알림 시스템**: 동일 매물의 가격 변화를 추적하여 상승(📈)/하락(📉) 아이콘과 변동액 표시
* **신규 매물 배지**: 오늘 처음 발견된 매물에 NEW 배지 부착
* **고급 필터링**: 가격/면적 범위, 층수(저/중/고), 특정 키워드 포함/제외 필터
* **엑셀 템플릿 커스터마이징**: 원하는 컬럼만 선택하거나 순서를 저장하는 템플릿 기능
* **URL 일괄 등록**: 텍스트에서 네이버 부동산 URL이나 단지 ID 자동 추출하여 일괄 등록
* **특징 파싱 개선**: 무의미한 중개사 광고 멘트 제거, 실질적인 매물 특징(올수리, 확장형 등)만 추출

---

## **v7.2**

**안정성 및 유지보수**

### 🛠 개선사항

* **DB 경로 안정성 확보**: 실행 환경(IDE, PyInstaller 등)에 따라 달라지는 경로 문제 해결
* **DB 복원 기능 강화**: Connection Pool 충돌 문제 해결 및 안전한 복원 로직 구현
* **디버깅 로그 강화**: 문제 발생 시 원인 파악을 위한 상세 로그 기록

---

## **v7.1**

**UI/UX 개선 및 기본 기능 강화**

### 🎨 UI/UX 업데이트

* **결과 요약 카드**: 매물 총 개수 및 매매/전세/월세별 현황 대시보드
* **예상 소요 시간(ETA)**: 현재 진행 속도 기반 크롤링 완료 시간 표시
* **링크 버튼 개선**: 텍스트 링크 대신 클릭 가능한 버튼 형태 UI 적용
* **툴팁 도움말**: 주요 버튼과 입력창에 설명 툴팁 추가

### ⚙️ 기능 개선

* **단위 라벨 명시**: 금액(만원/억), 면적(평/㎡) 등의 단위 명확하게 표시
* **최근 검색 기록**: 자주 찾는 단지 조합 저장 및 불러오기 기능
* **정렬 옵션**: 가격순, 면적순, 단지명순 등 다양한 정렬 기능
* **완료 알림음**: 작업 완료 시 소리 알림 옵션
